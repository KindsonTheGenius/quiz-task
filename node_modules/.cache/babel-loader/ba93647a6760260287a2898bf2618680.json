{"ast":null,"code":"module.exports = function (e) {\n  var n = {};\n\n  function t(r) {\n    if (n[r]) return n[r].exports;\n    var o = n[r] = {\n      i: r,\n      l: !1,\n      exports: {}\n    };\n    return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n  }\n\n  return t.m = e, t.c = n, t.d = function (e, n, r) {\n    t.o(e, n) || Object.defineProperty(e, n, {\n      enumerable: !0,\n      get: r\n    });\n  }, t.r = function (e) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, t.t = function (e, n) {\n    if (1 & n && (e = t(e)), 8 & n) return e;\n    if (4 & n && \"object\" == typeof e && e && e.__esModule) return e;\n    var r = Object.create(null);\n    if (t.r(r), Object.defineProperty(r, \"default\", {\n      enumerable: !0,\n      value: e\n    }), 2 & n && \"string\" != typeof e) for (var o in e) t.d(r, o, function (n) {\n      return e[n];\n    }.bind(null, o));\n    return r;\n  }, t.n = function (e) {\n    var n = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return t.d(n, \"a\", n), n;\n  }, t.o = function (e, n) {\n    return Object.prototype.hasOwnProperty.call(e, n);\n  }, t.p = \"\", t(t.s = 1);\n}([function (e, n, t) {\n  \"use strict\";\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var r,\n      o = t(4),\n      a = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n\n  function i(e, n, t) {\n    return new Promise(function (r, o) {\n      var i,\n          c = a.open(e, n);\n      c.onsuccess = function (e) {\n        i = c.result, r(i);\n      }, c.onerror = function (e) {\n        o(\"IndexedDB error: \" + c.error);\n      }, \"function\" == typeof t && (c.onupgradeneeded = function (e) {\n        console.log(\"checkout\"), t(e, i);\n      });\n    });\n  }\n\n  n.openDatabase = i, n.CreateObjectStore = function (e, n, t) {\n    var r = a.open(e, n);\n    r.onupgradeneeded = function (e) {\n      var n = e.target.result;\n      t.forEach(function (e) {\n        if (!n.objectStoreNames.contains(e.store)) {\n          var t = n.createObjectStore(e.store, e.storeConfig);\n          e.storeSchema.forEach(function (e) {\n            t.createIndex(e.name, e.keypath, e.options);\n          });\n        }\n      }), n.close();\n    }, r.onsuccess = function (e) {\n      e.target.result.close();\n    };\n  }, n.DBOperations = function (e, n, t) {\n    return {\n      add: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.createTransaction(e, o.optionsGenerator(r.readwrite, t, s, u)).objectStore(t).add(a, c).onsuccess = function (e) {\n              c = e.target.result, u(c);\n            };\n          });\n        });\n      },\n      getByID: function (a) {\n        return new Promise(function (c, u) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, u), o.createTransaction(e, o.optionsGenerator(r.readonly, t, u, c)).objectStore(t).get(+a).onsuccess = function (e) {\n              c(e.target.result);\n            };\n          });\n        });\n      },\n      getAll: function () {\n        return new Promise(function (a, c) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, c);\n            var n = o.createTransaction(e, o.optionsGenerator(r.readonly, t, c, a)).objectStore(t).getAll();\n            n.onerror = function (e) {\n              c(e);\n            }, n.onsuccess = function (e) {\n              var n = e.target.result;\n              a(n);\n            };\n          });\n        });\n      },\n      update: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, s);\n            var n = o.createTransaction(e, o.optionsGenerator(r.readwrite, t, s, u)),\n                i = n.objectStore(t);\n            n.oncomplete = function (e) {\n              u(e);\n            }, i.put(a, c);\n          });\n        });\n      },\n      deleteRecord: function (a) {\n        return new Promise(function (c, u) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, u), o.createTransaction(e, o.optionsGenerator(r.readwrite, t, u, c)).objectStore(t).delete(a).onsuccess = function (e) {\n              c(e);\n            };\n          });\n        });\n      },\n      clear: function () {\n        return new Promise(function (a, c) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, c);\n            var n = o.createTransaction(e, o.optionsGenerator(r.readwrite, t, c, a));\n            n.objectStore(t).clear(), n.oncomplete = function (e) {\n              a();\n            };\n          });\n        });\n      },\n      openCursor: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, s), o.createTransaction(e, o.optionsGenerator(r.readonly, t, s, u)).objectStore(t).openCursor(c).onsuccess = function (e) {\n              a(e), u();\n            };\n          });\n        });\n      },\n      getByIndex: function (a, c) {\n        return new Promise(function (u, s) {\n          i(e, n).then(function (e) {\n            o.validateBeforeTransaction(e, t, s), o.createTransaction(e, o.optionsGenerator(r.readonly, t, s, u)).objectStore(t).index(a).get(c).onsuccess = function (e) {\n              u(e.target.result);\n            };\n          });\n        });\n      }\n    };\n  }, function (e) {\n    e.readonly = \"readonly\", e.readwrite = \"readwrite\";\n  }(r = n.DBMode || (n.DBMode = {}));\n}, function (e, n, t) {\n  \"use strict\";\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var r = t(2);\n  n.AccessDB = r.AccessDB, n.IndexedDB = r.IndexedDB, function (e) {\n    for (var t in e) n.hasOwnProperty(t) || (n[t] = e[t]);\n  }(t(5));\n}, function (e, n, t) {\n  \"use strict\";\n\n  var r = this && this.__assign || function () {\n    return (r = Object.assign || function (e) {\n      for (var n, t = 1, r = arguments.length; t < r; t++) for (var o in n = arguments[t]) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n\n      return e;\n    }).apply(this, arguments);\n  },\n      o = this && this.__awaiter || function (e, n, t, r) {\n    return new (t || (t = Promise))(function (o, a) {\n      function i(e) {\n        try {\n          u(r.next(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n\n      function c(e) {\n        try {\n          u(r.throw(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n\n      function u(e) {\n        e.done ? o(e.value) : new t(function (n) {\n          n(e.value);\n        }).then(i, c);\n      }\n\n      u((r = r.apply(e, n || [])).next());\n    });\n  },\n      a = this && this.__generator || function (e, n) {\n    var t,\n        r,\n        o,\n        a,\n        i = {\n      label: 0,\n      sent: function () {\n        if (1 & o[0]) throw o[1];\n        return o[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return a = {\n      next: c(0),\n      throw: c(1),\n      return: c(2)\n    }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n      return this;\n    }), a;\n\n    function c(a) {\n      return function (c) {\n        return function (a) {\n          if (t) throw new TypeError(\"Generator is already executing.\");\n\n          for (; i;) try {\n            if (t = 1, r && (o = 2 & a[0] ? r.return : a[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, a[1])).done) return o;\n\n            switch (r = 0, o && (a = [2 & a[0], o.value]), a[0]) {\n              case 0:\n              case 1:\n                o = a;\n                break;\n\n              case 4:\n                return i.label++, {\n                  value: a[1],\n                  done: !1\n                };\n\n              case 5:\n                i.label++, r = a[1], a = [0];\n                continue;\n\n              case 7:\n                a = i.ops.pop(), i.trys.pop();\n                continue;\n\n              default:\n                if (!(o = (o = i.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {\n                  i = 0;\n                  continue;\n                }\n\n                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {\n                  i.label = a[1];\n                  break;\n                }\n\n                if (6 === a[0] && i.label < o[1]) {\n                  i.label = o[1], o = a;\n                  break;\n                }\n\n                if (o && i.label < o[2]) {\n                  i.label = o[2], i.ops.push(a);\n                  break;\n                }\n\n                o[2] && i.ops.pop(), i.trys.pop();\n                continue;\n            }\n\n            a = n.call(e, i);\n          } catch (e) {\n            a = [6, e], r = 0;\n          } finally {\n            t = o = 0;\n          }\n\n          if (5 & a[0]) throw a[1];\n          return {\n            value: a[0] ? a[1] : void 0,\n            done: !0\n          };\n        }([a, c]);\n      };\n    }\n  },\n      i = this && this.__importDefault || function (e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  };\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var c = i(t(3)),\n      u = t(0),\n      s = c.default.createContext({\n    db: null,\n    name: null,\n    version: null\n  }),\n      f = s.Provider,\n      l = s.Consumer;\n  n.IndexedDB = function (e) {\n    var n = this,\n        t = e.name,\n        r = e.version,\n        i = e.children;\n    return e.objectStoresMeta.forEach(function (e) {\n      return o(n, void 0, void 0, function () {\n        return a(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, u.openDatabase(t, r, function (n) {\n                var t = n.currentTarget.result.createObjectStore(e.store, e.storeConfig);\n                e.storeSchema.forEach(function (e) {\n                  t.createIndex(e.name, e.keypath, e.options);\n                });\n              })];\n\n            case 1:\n              return n.sent(), [2];\n          }\n        });\n      });\n    }), c.default.createElement(f, {\n      value: {\n        db: null,\n        name: t,\n        version: r\n      }\n    }, i);\n  }, n.AccessDB = function (e) {\n    var n = e.children,\n        t = e.objectStore;\n    return c.default.createElement(l, null, function (e) {\n      var o = e.db,\n          a = e.name,\n          i = e.version;\n      return n(r({\n        db: o\n      }, u.DBOperations(a, i, t)));\n    });\n  };\n}, function (e, n) {\n  e.exports = require(\"react\");\n}, function (e, n, t) {\n  \"use strict\";\n\n  function r(e, n) {\n    return e.objectStoreNames.contains(n);\n  }\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  }), n.validateStoreName = r, n.validateBeforeTransaction = function (e, n, t) {\n    e || t(\"You need to use the openDatabase function to create a database before you query it!\"), r(e, n) || t(\"objectStore does not exists: \" + n);\n  }, n.createTransaction = function (e, n) {\n    var t = e.transaction(n.storeName, n.dbMode);\n    return t.onerror = n.error, t.oncomplete = n.complete, t.onabort = n.abort, t;\n  }, n.optionsGenerator = function (e, n, t, r) {\n    return {\n      storeName: n,\n      dbMode: e,\n      error: function (e) {\n        t(e);\n      },\n      complete: function (e) {\n        r();\n      },\n      abort: function (e) {\n        t(e);\n      }\n    };\n  };\n}, function (e, n, t) {\n  \"use strict\";\n\n  var r = this && this.__assign || function () {\n    return (r = Object.assign || function (e) {\n      for (var n, t = 1, r = arguments.length; t < r; t++) for (var o in n = arguments[t]) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n\n      return e;\n    }).apply(this, arguments);\n  };\n\n  Object.defineProperty(n, \"__esModule\", {\n    value: !0\n  });\n  var o = t(0),\n      a = {\n    version: null,\n    name: null\n  };\n  n.initDB = function (e) {\n    var n = e.name,\n        t = e.version,\n        r = e.objectStoresMeta;\n    a.name = n, a.version = t, Object.freeze(a), o.CreateObjectStore(n, t, r);\n  }, n.useIndexedDB = function (e) {\n    if (!a.name || !a.version) throw new Error(\"Please, initialize the DB before the use.\");\n    return r({}, o.DBOperations(a.name, a.version, e));\n  };\n}]);","map":{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///src/indexed-db.ts","webpack:///src/index.tsx","webpack:///src/indexed-context.tsx","webpack:/external \"react\"","webpack:///src/Utils.ts","webpack:///src/indexed-hooks.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","indexedDB","window","mozIndexedDB","webkitIndexedDB","msIndexedDB","openDatabase","dbName","version","upgradeCallback","Promise","resolve","reject","request","open","db","onsuccess","event","result","onerror","error","onupgradeneeded","console","log","storeSchemas","database","target","forEach","storeSchema","objectStoreNames","contains","store","createObjectStore","storeConfig","schema","createIndex","keypath","options","close","e","currentStore","add","then","DBMode","readwrite","objectStore","evt","getByID","id","readonly","getAll","update","transaction","oncomplete","put","deleteRecord","delete","clear","openCursor","cursorCallback","keyRange","getByIndex","indexName","index","IndexedDBContext","createContext","IndexedDBProvider","Provider","IndexedDBCosumer","Consumer","children","currentTarget","require","validateStoreName","storeName","trans","dbMode","complete","onabort","abort","type","indexeddbConfiguration","objectStoresMeta","freeze","Error"],"mappings":"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","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","import { validateBeforeTransaction, createTransaction, optionsGenerator } from './Utils';\nimport { ObjectStoreMeta, ObjectStoreSchema } from './indexed-hooks';\n\nexport type Key = string | number | Date | ArrayBufferView | ArrayBuffer | IDBArrayKey | IDBKeyRange;\nexport interface IndexDetails {\n  indexName: string;\n  order: string;\n}\nconst indexedDB: IDBFactory =\n  window.indexedDB || (<any>window).mozIndexedDB || (<any>window).webkitIndexedDB || (<any>window).msIndexedDB;\n\nexport function openDatabase(dbName: string, version: number, upgradeCallback?: Function) {\n  return new Promise<IDBDatabase>((resolve, reject) => {\n    const request = indexedDB.open(dbName, version);\n    let db: IDBDatabase;\n    request.onsuccess = (event: Event) => {\n      db = request.result;\n      resolve(db);\n    };\n    request.onerror = (event: Event) => {\n      reject(`IndexedDB error: ${request.error}`);\n    };\n    if (typeof upgradeCallback === 'function') {\n      request.onupgradeneeded = (event: Event) => {\n        console.log('checkout');\n        upgradeCallback(event, db);\n      };\n    }\n  });\n}\n\nexport function CreateObjectStore(dbName: string, version: number, storeSchemas: ObjectStoreMeta[]) {\n  const request: IDBOpenDBRequest = indexedDB.open(dbName, version);\n\n  request.onupgradeneeded = function(event: IDBVersionChangeEvent) {\n    const database: IDBDatabase = (event.target as any).result;\n    storeSchemas.forEach((storeSchema: ObjectStoreMeta) => {\n      if (!database.objectStoreNames.contains(storeSchema.store)) {\n        const objectStore = database.createObjectStore(storeSchema.store, storeSchema.storeConfig);\n        storeSchema.storeSchema.forEach((schema: ObjectStoreSchema) => {\n          objectStore.createIndex(schema.name, schema.keypath, schema.options);\n        });\n      }\n    });\n    database.close();\n  };\n  request.onsuccess = function(e: any) {\n    e.target.result.close();\n  };\n}\n\nexport function DBOperations(dbName: string, version: number, currentStore: string) {\n  return {\n    add<T>(value: T, key?: any) {\n      return new Promise<number>((resolve, reject) => {\n        openDatabase(dbName, version).then((db: IDBDatabase) => {\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          let request = objectStore.add(value, key);\n          request.onsuccess = (evt: any) => {\n            key = evt.target.result;\n            resolve(key);\n          };\n        });\n      });\n    },\n    getByID<T>(id: string | number) {\n      return new Promise<T>((resolve, reject) => {\n        openDatabase(dbName, version).then((db: IDBDatabase) => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            request: IDBRequest;\n          request = objectStore.get(+id);\n          request.onsuccess = function(event: Event) {\n            resolve((event.target as any).result as T);\n          };\n        });\n      });\n    },\n    getAll<T>() {\n      return new Promise<T[]>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            result: Array<any> = [];\n\n          const request: IDBRequest = objectStore.getAll();\n\n          request.onerror = function(e) {\n            reject(e);\n          };\n\n          request.onsuccess = function({ target: { result } }: any) {\n            resolve(result as T[]);\n          };\n        });\n      });\n    },\n    update<T>(value: T, key?: any) {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          transaction.oncomplete = event => {\n            resolve(event);\n          };\n          objectStore.put(value, key);\n        });\n      });\n    },\n    deleteRecord(key: Key) {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          let request = objectStore.delete(key);\n          request.onsuccess = event => {\n            resolve(event);\n          };\n        });\n      });\n    },\n    clear() {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore);\n          objectStore.clear();\n          transaction.oncomplete = event => {\n            resolve();\n          };\n        });\n      });\n    },\n    openCursor(cursorCallback: (event: Event) => void, keyRange?: IDBKeyRange) {\n      return new Promise<void>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            request = objectStore.openCursor(keyRange);\n\n          request.onsuccess = (event: Event) => {\n            cursorCallback(event);\n            resolve();\n          };\n        });\n      });\n    },\n    getByIndex(indexName: string, key: any) {\n      return new Promise<any>((resolve, reject) => {\n        openDatabase(dbName, version).then(db => {\n          validateBeforeTransaction(db, currentStore, reject);\n          let transaction = createTransaction(db, optionsGenerator(DBMode.readonly, currentStore, reject, resolve)),\n            objectStore = transaction.objectStore(currentStore),\n            index = objectStore.index(indexName),\n            request = index.get(key);\n          request.onsuccess = (event: Event) => {\n            resolve((<IDBOpenDBRequest>event.target).result);\n          };\n        });\n      });\n    }\n  };\n}\n\nexport enum DBMode {\n  readonly = 'readonly',\n  readwrite = 'readwrite'\n}\n","export { AccessDB, IndexedDB } from './indexed-context';\nexport * from './indexed-hooks';\n","import React, { ReactNode, useState } from 'react';\nimport { DBOperations, openDatabase, Key } from './indexed-db';\n\ninterface IndexedDBProps {\n  name: string;\n  version: number;\n  children: ReactNode;\n  objectStoresMeta: ObjectStoreMeta[];\n}\n\ninterface ObjectStoreMeta {\n  store: string;\n  storeConfig: { keyPath: string; autoIncrement: boolean; [key: string]: any };\n  storeSchema: ObjectStoreSchema[];\n}\n\ninterface ObjectStoreSchema {\n  name: string;\n  keypath: string;\n  options: { unique: boolean; [key: string]: any };\n}\n\nconst IndexedDBContext = React.createContext<{ db: any; name: string; version: number }>({\n  db: null,\n  name: null,\n  version: null\n});\n\nconst IndexedDBProvider = IndexedDBContext.Provider;\nconst IndexedDBCosumer = IndexedDBContext.Consumer;\n\nexport function IndexedDB({ name, version, children, objectStoresMeta }: IndexedDBProps) {\n  objectStoresMeta.forEach(async (schema: ObjectStoreMeta) => {\n    const db = await openDatabase(name, version, (event: any) => {\n      let db: IDBDatabase = event.currentTarget.result;\n      let objectStore = db.createObjectStore(schema.store, schema.storeConfig);\n      schema.storeSchema.forEach((schema: ObjectStoreSchema) => {\n        objectStore.createIndex(schema.name, schema.keypath, schema.options);\n      });\n    });\n  });\n  return <IndexedDBProvider value={{ db: null, name, version }}>{children}</IndexedDBProvider>;\n}\n\ninterface AccessDBProps {\n  children: ({\n    db\n  }: {\n    db: IDBDatabase;\n    add: <T = any>(value: T, key?: any) => Promise<number>;\n    getByID: <T = any>(id: number | string) => Promise<T>;\n    getAll: <T = any>() => Promise<T[]>;\n    update: <T = any>(value: T, key?: any) => Promise<any>;\n    deleteRecord: (key: Key) => Promise<any>;\n    openCursor: (cursorCallback: (event: Event) => void, keyRange?: IDBKeyRange) => Promise<void>;\n    getByIndex: (indexName: string, key: any) => Promise<any>;\n  }) => {};\n  objectStore: string;\n}\n\nexport function AccessDB({ children, objectStore }: AccessDBProps) {\n  return (\n    <IndexedDBCosumer>\n      {value => {\n        const { db, name, version } = value;\n        // openDatabase(name, version);\n        return children({ db, ...DBOperations(name, version, objectStore) });\n      }}\n    </IndexedDBCosumer>\n  );\n}\n","module.exports = require(\"react\");","export interface Options {\n  storeName: string;\n  dbMode: IDBTransactionMode;\n  error: (e: Event) => any;\n  complete: (e: Event) => any;\n  abort?: any;\n}\n\nexport function validateStoreName(db: IDBDatabase, storeName: string) {\n  return db.objectStoreNames.contains(storeName);\n}\n\nexport function validateBeforeTransaction(db: IDBDatabase, storeName: string, reject: Function) {\n  if (!db) {\n    reject('You need to use the openDatabase function to create a database before you query it!');\n  }\n  if (!validateStoreName(db, storeName)) {\n    reject(`objectStore does not exists: ${storeName}`);\n  }\n}\n\nexport function createTransaction(db: IDBDatabase, options: Options): IDBTransaction {\n  let trans: IDBTransaction = db.transaction(options.storeName, options.dbMode);\n  trans.onerror = options.error;\n  trans.oncomplete = options.complete;\n  trans.onabort = options.abort;\n  return trans;\n}\n\nexport function optionsGenerator(type: any, storeName: any, reject: Function, resolve: Function): Options {\n  return {\n    storeName: storeName,\n    dbMode: type,\n    error: (e: Event) => {\n      reject(e);\n    },\n    complete: (e: Event) => {\n      resolve();\n    },\n    abort: (e: Event) => {\n      reject(e);\n    }\n  };\n}\n\n// export function* processRequest({ request, success, error }: any) {\n//   request.onerror = function(event: Event) {\n//     error(error);\n//     yield error;\n//   };\n//   request.onsuccess = function(evt: Event) {\n//     let cursor: IDBCursorWithValue = (<IDBRequest>evt.target).result;\n//     if (cursor) {\n//       result.push(cursor.value);\n//       cursor.continue();\n//     } else {\n//       resolve(result);\n//     }\n//   };\n// }\n","import { DBOperations, openDatabase, Key, CreateObjectStore } from './indexed-db';\n\nexport interface IndexedDBProps {\n  name: string;\n  version: number;\n  objectStoresMeta: ObjectStoreMeta[];\n}\n\nexport interface ObjectStoreMeta {\n  store: string;\n  storeConfig: { keyPath: string; autoIncrement: boolean; [key: string]: any };\n  storeSchema: ObjectStoreSchema[];\n}\n\nexport interface ObjectStoreSchema {\n  name: string;\n  keypath: string;\n  options: { unique: boolean; [key: string]: any };\n}\n\nexport interface useIndexedDB {\n  dbName: string;\n  version: number;\n  objectStore: string;\n}\n\nlet indexeddbConfiguration: { version: number; name: string } = { version: null, name: null };\n\nexport function initDB({ name, version, objectStoresMeta }: IndexedDBProps) {\n  indexeddbConfiguration.name = name;\n  indexeddbConfiguration.version = version;\n  Object.freeze(indexeddbConfiguration);\n  CreateObjectStore(name, version, objectStoresMeta);\n}\n\nexport function useIndexedDB(\n  objectStore: string\n): {\n  add: <T = any>(value: T, key?: any) => Promise<number>;\n  getByID: <T = any>(id: number | string) => Promise<T>;\n  getAll: <T = any>() => Promise<T[]>;\n  update: <T = any>(value: T, key?: any) => Promise<any>;\n  deleteRecord: (key: Key) => Promise<any>;\n  openCursor: (cursorCallback: (event: Event) => void, keyRange?: IDBKeyRange) => Promise<void>;\n  getByIndex: (indexName: string, key: any) => Promise<any>;\n} {\n  if (!indexeddbConfiguration.name || !indexeddbConfiguration.version) {\n    throw new Error('Please, initialize the DB before the use.');\n  }\n  return { ...DBOperations(indexeddbConfiguration.name, indexeddbConfiguration.version, objectStore) };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}